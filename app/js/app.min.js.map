{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","card","document","querySelector","card__container","tiltAngle","addEventListener","mainAnimate","bind","el","removeAttribute","clearTimeout","setTimeout","target","offset_x","e","offsetX","layerX","layerY","x","rect","width","height","y","_this","elementDirectionalShift","style","offset_y","concat","window","wave","wave__wrap","wave_up","wave_down","flagSwitch","clearTagStyle","setInterval","classList","add","transform","background","obg_card","backgroundSize","remove"],"mappings":"uZAAMA,iBACF,SAAAA,EAAYC,GAAKC,gBAAAC,KAAAH,GACbG,KAAKC,YAAc,EACnBD,KAAKE,cAAgB,EACrBF,KAAKG,KAAOC,SAASC,cAAcP,EAAIK,MACvCH,KAAKM,gBAAkBF,SAASC,cAAcP,EAAIQ,iBAClDN,KAAKO,UAAYT,EAAIS,WAAa,GAClCP,KAAKM,gBAAgBE,iBAAiB,YAAaR,KAAKS,YAAYC,KAAKV,yDAN5D,SAAAW,GAUbA,EAAGC,gBAAgB,oCARnB,SAAKV,GAAAA,IAAAA,EAAAA,KAYLW,aAAab,KAAKC,aAXlBY,aAAYT,KAASC,eAarBL,KAAKC,YAAca,YAAW,WAZzBR,IAAAA,EAAAA,EAALS,OAAuBX,wBAcfY,EAAWC,EAAEC,SAAWD,EAAEE,OAb7BZ,EAAgBA,EAAAA,SAArBU,EAAsCG,OAe9BC,EAAI,IAAML,EAAWM,EAAKC,MAd7BjB,EAAAA,IAAgBE,EAAAA,EAAiBgB,OAiB9BH,EAAI,IAAMI,EAAI,GACdC,EAAKC,wBAAwBD,EAAKnB,WAAYmB,EAAKnB,WAAY,EAAG,IAC3Dc,EAAI,IAAMI,EAAI,GAhBjCC,EAAAC,wBAAkBD,EAAAnB,UAAAmB,EAAAnB,WAAA,GAAA,IACXK,EAAgB,IAAnBa,EAAA,GACHC,EAAAC,yBAAAD,EAAAnB,WAAAmB,EAAAnB,UAAA,GAAA,IAkBkBc,EAAI,IAAMI,EAAI,IACrBC,EAAKC,yBAAyBD,EAAKnB,UAAWmB,EAAKnB,UAAW,EAAG,MAGtE,GAlBHM,KAAAA,cAAkBX,YAAlB,WACKD,EAAAA,cAAca,EAAWX,QAC1B,4CAGA,SAAca,EAANS,GACRzB,KAAKG,KAAGyB,MAAMC,UAAd,+BAAAC,OAAAT,EAAA,iBAAAS,OAAAL,EAAA,+BAGIM,OAAAvB,iBAAKmB,QAAAA,WAIL,IAAA9B,MAHOwB,CAAoBlB,KAAA,SAC3BG,gBAAKqB,cACRpB,UAAUc,KAGP,IAAAW,EAAI5B,SAACuB,eAAL,QACHM,EAAA7B,SAAAC,cAAA,eAfwB6B,EAA7B9B,SAAAC,cAAA,YAmBA8B,EAAKjC,SAAgBY,cAAW,cAC5BsB,GAAKC,EAEZC,aAAA,WAuBGN,EAAKO,UAAUC,IAAI,gBACnB1B,YAAW,WAtBfsB,GACcR,EAAMa,MAAAA,WAAhB,wDACHN,EAAAP,MAAAc,WAAA,0DAwBWN,GAAa,IAEbF,EAAQN,MAAMc,WAAa,uDAC3BP,EAAUP,MAAMc,WAAa,yDAC7BN,GAAa,GAxBrBO,EAAWf,MAAAgB,eAAA,UACLT,EADKP,MAAAgB,eAAA,YACK,KACgB9B,YAAA,WAChCP,EAAeqB,MAAAa,UAAAL,EAAA,iBAAA,gBA6BXJ,EAAKO,UAAUM,OAAO,kBAhC9B,OAKIhD","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.removeAttribute('style')\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle, -8, 10)\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, -8, -10)\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, 8, -10)\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, 8, 10)\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle(this.card)\r\n        }, 1000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y) {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.glass', // Анимируемый блок\r\n        card__container: '.wave__card', // Блок контейнер\r\n        tiltAngle: 15, // угол отклонения в градусах\r\n    };\r\n    new Box3D(obg_card);\r\n\r\n    /* Меняю волны */\r\n    let wave = document.getElementById('wave');\r\n    let wave__wrap = document.querySelector('.wave__wrap');\r\n    let wave_up = document.querySelector('.wave_up');\r\n    let wave_down = document.querySelector('.wave_down');\r\n    let flagSwitch = true;\r\n\r\n    setInterval(() => {\r\n        wave.classList.add('opacity_wave')\r\n        setTimeout(() => {\r\n            if (flagSwitch) {\r\n                wave_up.style.background = 'url(../img/dest/wave_up1.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(../img/dest/wave_down1.webp) center center repeat-x';\r\n                flagSwitch = false;\r\n            } else {\r\n                wave_up.style.background = 'url(../img/dest/wave_up.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(../img/dest/wave_down.webp) center center repeat-x';\r\n                flagSwitch = true;\r\n            }\r\n            wave_up.style.backgroundSize = 'contain';\r\n            wave_down.style.backgroundSize = 'contain';\r\n        }, 1000)\r\n\r\n        setTimeout(() => {\r\n            wave__wrap.style.transform = flagSwitch ? 'rotate(-35deg)' : 'rotate(35deg)'\r\n            wave.classList.remove('opacity_wave')\r\n        }, 1000)\r\n    }, 10000)\r\n});"]}