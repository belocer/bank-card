{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","countCoins","card","document","querySelector","card__container","coins","querySelectorAll","tiltAngle","addEventListener","mainAnimate","bind","el","forEach","item","removeAttribute","_this","clearTimeout","setTimeout","target","offset_x","e","offsetX","layerX","offset_y","layerY","x","rect","width","height","elementDirectionalShift","y","clearTagStyle","getBoundingClientRect","transform","concat","_this2","r","Math","floor","random","i","window","wave","getElementById","wave__wrap","wave_up","wave_down","flagSwitch","setInterval","add","style","background","backgroundSize","obg_card","classList","remove"],"mappings":"uZAAMA,iBACF,SAAAA,EAAYC,GAAKC,gBAAAC,KAAAH,GACbG,KAAKC,YAAc,EACnBD,KAAKE,cAAgB,EACrBF,KAAKG,WAAa,EAClBH,KAAKI,KAAOC,SAASC,cAAcR,EAAIM,MACvCJ,KAAKO,gBAAkBF,SAASC,cAAcR,EAAIS,iBAClDP,KAAKQ,MAAQH,SAASI,iBAAiBX,EAAIU,OAP7CX,KAQOa,UAAYZ,EAAIY,WAAa,GAPtCV,KAAAO,gBAAiBI,iBAAA,YAAAX,KAAAY,YAAAC,KAAAb,yDACb,SAAKC,GAWLa,EAAGC,SAAQ,SAAAC,GAAI,OAAIA,EAAKC,gBAAgB,uCATxC,SAAKd,GAAL,IAAAe,EAAAlB,KAaAmB,aAAanB,KAAKC,aAZlBkB,aAAYd,KAASC,eAcrBN,KAAKC,YAAcmB,YAAW,WAbzBb,IAAAA,EAAAA,EAALc,OAAuBhB,wBAefiB,EAAWC,EAAEC,SAAWD,EAAEE,OAdlCC,EAAsBjB,EAAAA,SAAAA,EAATkB,OAgBLC,EAAI,IAAMN,EAAWO,EAAKC,MAf7BpB,EAAL,IAAqBA,EAAJmB,EAAqBE,OACjCxB,EAAAA,IAAgBI,EAAAA,GACxBO,EAAAc,wBAAAd,EAAAR,WAAAQ,EAAAR,WAAA,EAAA,IAkBkBkB,EAAI,IAAMK,EAAI,GACrBf,EAAKc,wBAAwBd,EAAKR,UAAWQ,EAAKR,WAAY,GAAI,IAC3DkB,EAAI,IAAMK,EAAI,GAlBjCf,EAAAc,yBAAkBd,EAAAR,WAAAQ,EAAAR,UAAA,GAAA,IACHkB,EAAAZ,IAAIiB,EAAA,IAAIjB,EAAKC,yBAATC,EAAAR,UAAAQ,EAAAR,UAAA,EAAA,MAuBZ,GAEHV,KAtBJE,cAAAkB,YAAe,WAAAF,EAAAgB,cAAA,CAAAhB,EAAAd,OAwBPc,EAAKgB,cAAchB,EAAKV,SAvB5BW,4CAGI,SAAoBgB,EAAAA,GAAAA,IAAAA,EAAAA,KACpBnC,KAAIsB,KAAAA,MAAYc,UAAhB,+BAAAC,OAAAT,EAAA,iBAAAS,OAAAJ,EAAA,sBACA,IAAIP,EAAAA,EACJP,aAAQnB,KAAMsB,YACdtB,KAAKQ,MAAGO,SAAMW,SAAAA,EAAWG,EAAKE,GAyB9BO,EAAKnC,WAAaiB,YAAW,WAvBrB,IAAJmB,EAAWC,KAAfC,MAAsB,GAAAD,KAAAE,UAAEC,GAAA,GACfX,EAAAA,MAAAA,UAAAA,kCAAAA,OAALJ,EAAAe,EAAAJ,EAAKP,mBAAAA,OAALC,EAAAU,EAAAJ,EAAKP,gBAAAA,OAALO,EAAKP,iBAAAA,OAALO,EAAKP,QACFW,EAAK,MAADA,EAAW,KACd,IAACX,eAGsBY,OAAAjC,iBAAA,QAAA,WAQ/B,IAAAd,MAPSmC,CACR5B,KAAA,SAfwBG,gBAA7B,mBAmBAG,UAAKR,GACDM,MAAK0B,cA+Bb,IAAIW,EAAOxC,SAASyC,eAAe,QAC/BC,EAAa1C,SAASC,cAAc,eACpC0C,EA5BJ3C,SAAAC,cAAA,YAA8B2C,EAAA5C,SAAAC,cAAA,cA8B1B4C,GAAa,EA5BbC,aAAA,WACAhC,EAAAA,UAAaiC,IAAKjD,gBAClBiB,YAAWL,WACFZ,GACI6C,EAAQP,MAAMD,WAAA,oFACdS,EAALI,MAAAC,WAAA,sFACKD,GAAMjB,IAGZY,EANHK,MAAAC,WAAA,mFADJL,EAAAI,MAAAC,WAAA,qFASHJ,GAAA,GA+BOF,EAAQK,MAAME,eAAiB,UAC/BN,EAAUI,MAAME,eAAiB,YAClC,KA9BJ5C,YAAAA,WACC6C,EAAWH,MAAAjB,UAAAc,EAAA,iBAAA,gBACLL,EAAAY,UADKC,OAAA,kBACK,OAChBnD","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.countCoins = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.coins = document.querySelectorAll(obj.coins); // Монеты\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle, -8, 10)\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, -8, -10)\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, 8, -10)\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, 8, 10)\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle([this.card])\r\n            this.clearTagStyle(this.coins)\r\n        }, 2000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y) {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n        let i = 1\r\n        clearTimeout(this.countCoins);\r\n        this.coins.forEach((item, index, arr) => {\r\n            this.countCoins = setTimeout(() => {\r\n                let r = Math.floor(Math.random() * 30)\r\n                i += 15;\r\n                item.style.transform = `perspective(1200px) translateX(${x - i + r}px) translateY(${y - i + r}px) rotateX(${r}deg) rotateY(${r}deg)`;\r\n                i > 100 ? i = 0 : '';\r\n                //item.style.filter = i % 3 === 0 ? 'blur(1px)' : 'blur(0)';\r\n            }, 100 * index)\r\n        })\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.glass', // Анимируемый блок\r\n        card__container: '.wave__container', // Блок контейнер\r\n        tiltAngle: 15, // угол отклонения в градусах\r\n        coins: '.coins li'\r\n    };\r\n    new Box3D(obg_card);\r\n\r\n    /* Меняю волны */\r\n    let wave = document.getElementById('wave');\r\n    let wave__wrap = document.querySelector('.wave__wrap');\r\n    let wave_up = document.querySelector('.wave_up');\r\n    let wave_down = document.querySelector('.wave_down');\r\n    let flagSwitch = true;\r\n\r\n    setInterval(() => {\r\n        wave.classList.add('opacity_wave')\r\n        setTimeout(() => {\r\n            if (flagSwitch) {\r\n                wave_up.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_up1.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_down1.webp) center center repeat-x';\r\n                flagSwitch = false;\r\n            } else {\r\n                wave_up.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_up.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_down.webp) center center repeat-x';\r\n                flagSwitch = true;\r\n            }\r\n            wave_up.style.backgroundSize = 'contain';\r\n            wave_down.style.backgroundSize = 'contain';\r\n        }, 1000)\r\n\r\n        setTimeout(() => {\r\n            wave__wrap.style.transform = flagSwitch ? 'rotate(-35deg)' : 'rotate(35deg)'\r\n            wave.classList.remove('opacity_wave')\r\n        }, 1000)\r\n    }, 20000)\r\n});"]}