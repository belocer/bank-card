{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","countCoins","card","document","querySelector","card__container","coins","querySelectorAll","tiltAngle","addEventListener","mainAnimate","bind","el","removeAttribute","_this","clearTimeout","setTimeout","target","offset_x","e","offsetX","layerX","offset_y","layerY","x","rect","width","height","elementDirectionalShift","y","_this2","transform","concat","forEach","item","index","arr","r","Math","floor","random","style","i","window","clearTagStyle","wave","getElementById","wave__wrap","wave_up","wave_down","flagSwitch","setInterval","classList","background","backgroundSize","remove"],"mappings":"uZAAMA,iBACF,SAAAA,EAAYC,GAAKC,gBAAAC,KAAAH,GACbG,KAAKC,YAAc,EACnBD,KAAKE,cAAgB,EACrBF,KAAKG,WAAa,EAClBH,KAAKI,KAAOC,SAASC,cAAcR,EAAIM,MACvCJ,KAAKO,gBAAkBF,SAASC,cAAcR,EAAIS,iBAClDP,KAAKQ,MAAQH,SAASI,iBAAiBX,EAAIU,OAP7CX,KAQOa,UAAYZ,EAAIY,WAAa,GAPtCV,KAAAO,gBAAiBI,iBAAA,YAAAX,KAAAY,YAAAC,KAAAb,yDACb,SAAKC,GAWLa,EAAGC,gBAAgB,oCATnB,SAAKZ,GAAL,IAAAa,EAAAhB,KAaAiB,aAAajB,KAAKC,aAZlBgB,aAAYZ,KAASC,eAcrBN,KAAKC,YAAciB,YAAW,WAbzBX,IAAAA,EAAAA,EAALY,OAAuBd,wBAefe,EAAWC,EAAEC,SAAWD,EAAEE,OAdlCC,EAAsBf,EAAAA,SAAAA,EAATgB,OAgBLC,EAAI,IAAMN,EAAWO,EAAKC,MAf7BlB,EAAL,IAAqBA,EAAJiB,EAAqBE,OACjCtB,EAAAA,IAAgBI,EAAAA,GACxBK,EAAAc,wBAAAd,EAAAN,WAAAM,EAAAN,WAAA,EAAA,IAkBkBgB,EAAI,IAAMK,EAAI,GACrBf,EAAKc,wBAAwBd,EAAKN,UAAWM,EAAKN,WAAY,GAAI,IAC3DgB,EAAI,IAAMK,EAAI,GAlBjCf,EAAAc,yBAAkBd,EAAAN,WAAAM,EAAAN,UAAA,GAAA,IACXK,EAAgB,IAAnBgB,EAAA,IACHf,EAAAc,yBAAAd,EAAAN,UAAAM,EAAAN,UAAA,EAAA,MAED,GAsBIV,KAAKE,cAAgBgB,YAAW,WArBhCD,EAAAA,cAAkBhB,EAAlBG,QACAa,4CAGI,SAAiBK,EAAAA,GAAF,IAAAU,EAAAhC,KACfA,KAAIwB,KAAAA,MAAYS,UAAhB,+BAAAC,OAAAR,EAAA,iBAAAQ,OAAAH,EAAA,sBACA,IAAIL,EAAI,EACRT,aAAQjB,KAAMwB,YAuBlBxB,KAAKQ,MAAM2B,SAAQ,SAACC,EAAMC,EAAOC,GArBzBZ,EAAIvB,WAAce,YAAA,WAAE,IAAAqB,EAAAC,KAAAC,MAAA,GAAAD,KAAAE,UACfZ,GAAAA,GACFM,EAAKO,MAADV,UAAJ,cAAAC,OAAsBR,EAAAkB,EAAAL,EAAtB,mBAAAL,OAAsBH,EAAAa,EAAAL,EAAtB,eAAAL,OAAsBK,EAAtB,QAAwBK,EAAA,MAAAA,EAAA,KACvB,IAACd,eAGsBe,OAAAlC,iBAAA,QAAA,WAStC,IAAAd,MARgBiC,CACR1B,KAAA,SAfwBG,gBAA7B,mBAmBAG,UAAKR,GACDM,MAAKsC,cA6Bb,IAAIC,EAzBJ1C,SAAA2C,eAAA,QAA8BC,EAAA5C,SAAAC,cAAA,eA2B1B4C,EAAU7C,SAASC,cAAc,YA1BjC6C,EAAUR,SAAMV,cAAhB,cACAmB,GAAA,EAEAC,aAAA,WACIN,EAAAO,UAAKnD,IAAL,gBACIe,YAAQsB,WACHY,GACAT,EAAMV,MAAXsB,WAAA,oFACIJ,EAAJR,MAAAY,WAAA,sFACDH,GALH,IAOPF,EAAAP,MAAAY,WAAA,mFA4BWJ,EAAUR,MAAMY,WAAa,qFAC7BH,GAAa,GAEjBF,EAAQP,MAAMa,eAAiB,UAC/BL,EAAUR,MAAMa,eAAiB,YA7BtC7C,KAEKO,YADO,WACK+B,EAAAN,MAAAV,UAAAmB,EAAA,iBAAA,gBAChB7C,EAAAA,UAAiBkD,OAAA,kBAAoB,OACrC/C","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.countCoins = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.coins = document.querySelectorAll(obj.coins); // Монеты\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.removeAttribute('style')\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle, -8, 10)\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, -8, -10)\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, 8, -10)\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, 8, 10)\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle(this.card)\r\n        }, 1000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y) {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n        let i = 1\r\n        clearTimeout(this.countCoins);\r\n        this.coins.forEach((item, index, arr) => {\r\n            this.countCoins = setTimeout(() => {\r\n                let r = Math.floor(Math.random() * 30)\r\n                i += 15;\r\n                item.style.transform = `translateX(${x - i + r}px) translateY(${y - i + r}px) rotate(${r}deg)`;\r\n                i > 100 ? i = 0 : ''\r\n            }, 100 * index)\r\n        })\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.glass', // Анимируемый блок\r\n        card__container: '.wave__container', // Блок контейнер\r\n        tiltAngle: 15, // угол отклонения в градусах\r\n        coins: '.coins li'\r\n    };\r\n    new Box3D(obg_card);\r\n\r\n    /* Меняю волны */\r\n    let wave = document.getElementById('wave');\r\n    let wave__wrap = document.querySelector('.wave__wrap');\r\n    let wave_up = document.querySelector('.wave_up');\r\n    let wave_down = document.querySelector('.wave_down');\r\n    let flagSwitch = true;\r\n\r\n    setInterval(() => {\r\n        wave.classList.add('opacity_wave')\r\n        setTimeout(() => {\r\n            if (flagSwitch) {\r\n                wave_up.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_up1.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_down1.webp) center center repeat-x';\r\n                flagSwitch = false;\r\n            } else {\r\n                wave_up.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_up.webp) center center repeat-x';\r\n                wave_down.style.background = 'url(https://googleman.ru/bank_card/img/dest/wave_down.webp) center center repeat-x';\r\n                flagSwitch = true;\r\n            }\r\n            wave_up.style.backgroundSize = 'contain';\r\n            wave_down.style.backgroundSize = 'contain';\r\n        }, 1000)\r\n\r\n        setTimeout(() => {\r\n            wave__wrap.style.transform = flagSwitch ? 'rotate(-35deg)' : 'rotate(35deg)'\r\n            wave.classList.remove('opacity_wave')\r\n        }, 1000)\r\n    }, 20000)\r\n});"]}