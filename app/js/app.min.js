"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Box3D=function(){function e(t){_classCallCheck(this,e),this.varDebounce=0,this.сountdownAnim=0,this.countCoins=0,this.card=document.querySelector(t.card),this.card__container=document.querySelector(t.card__container),this.coins=document.querySelectorAll(t.coins),this.tiltAngle=t.tiltAngle||10,this.card__container.addEventListener("mousemove",this.mainAnimate.bind(this))}return _createClass(e,[{key:"clearTagStyle",value:function(e){e.forEach((function(e){return e.removeAttribute("style")}))}},{key:"mainAnimate",value:function(e){var t=this;clearTimeout(this.varDebounce),clearTimeout(this.сountdownAnim),this.varDebounce=setTimeout((function(){var n=e.target.getBoundingClientRect(),a=e.offsetX||e.layerX,r=e.offsetY||e.layerY,o=100*a/n.width,i=100*r/n.height;o<50&&i<50?t.elementDirectionalShift(t.tiltAngle,-t.tiltAngle,-8,10):o>50&&i<50?t.elementDirectionalShift(t.tiltAngle,t.tiltAngle,-8,-10):o<50&&i>50?t.elementDirectionalShift(-t.tiltAngle,-t.tiltAngle,8,-10):o>50&&i>50&&t.elementDirectionalShift(-t.tiltAngle,t.tiltAngle,8,10)}),1),this.сountdownAnim=setTimeout((function(){t.clearTagStyle([t.card]),t.clearTagStyle(t.coins)}),2e3)}},{key:"elementDirectionalShift",value:function(e,t){var n=this;this.card.style.transform="perspective(1200px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) translateZ(0)");var a=1;clearTimeout(this.countCoins),this.coins.forEach((function(r,o,i){n.countCoins=setTimeout((function(){var n=Math.floor(30*Math.random());a+=15,r.style.transform="perspective(1200px) translateX(".concat(e-a+n,"px) translateY(").concat(t-a+n,"px) rotateX(").concat(n,"deg) rotateY(").concat(n,"deg)"),a>100&&(a=0)}),100*o)}))}}]),e}();window.addEventListener("load",(function(){new Box3D({card:".glass",card__container:".wave__container",tiltAngle:15,coins:".coins li"});var e=document.getElementById("wave"),t=document.querySelector(".wave__wrap"),n=document.querySelector(".wave_up"),a=document.querySelector(".wave_down"),r=!0;setInterval((function(){e.classList.add("opacity_wave"),setTimeout((function(){r?(n.style.background="url(https://googleman.ru/bank_card/img/dest/wave_up1.webp) center center repeat-x",a.style.background="url(https://googleman.ru/bank_card/img/dest/wave_down1.webp) center center repeat-x",r=!1):(n.style.background="url(https://googleman.ru/bank_card/img/dest/wave_up.webp) center center repeat-x",a.style.background="url(https://googleman.ru/bank_card/img/dest/wave_down.webp) center center repeat-x",r=!0),n.style.backgroundSize="contain",a.style.backgroundSize="contain"}),1e3),setTimeout((function(){t.style.transform=r?"rotate(-35deg)":"rotate(35deg)",e.classList.remove("opacity_wave")}),1e3)}),2e4)}));
//# sourceMappingURL=app.min.js.map
